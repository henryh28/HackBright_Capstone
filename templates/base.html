<!DOCTYPE html>

<html>
    <head>
        <title>{% block title %} {% endblock %}</title>
        <meta charset='utf-8' />
        <meta name='viewport' content='width=device-width, initial-scale=1, user-scalable=no' />
        <link rel='stylesheet' href='/static/css/styles.css' />

        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">

        <script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.0.1/socket.io.js" integrity="sha512-q/dWJ3kcmjBLU4Qc47E4A9kTB4m3wuTY7vkFJDTZKjTs8jhyGQnaUrxa0Ytd0ssMZhbNua9hE+E7Qv1j+DyZwA==" crossorigin="anonymous"></script>
        
        {% block head %} {% endblock %}

    </head>

    <body>
        {% block nav %} 
            <div name='nav_bar' class='navbar'>
                <!-- Left side Menu items -->
                <div class="menuitems">
                    <form method="POST">
                        <button type="button" id="btn-home">Home</button>
                        <button type="button" id='btn-create-room'>Create a Room</button>
                        <input type="submit" formaction = "/room/code" value="Join Room">
                        <label for="room_code">Room Code: </label>
                        <input type="text" id="btn-room-code" name="room_code" class="col-md-1" maxlength="4">
                    </form><br>
                </div>


                <!-- Right side user related UI elements -->
                <div class="user_status col-md-5">
                    {% if session['user'] %}
                        <div class="col-md-7 offset-md-1">
                            <button type="button" id="btn-view-user-profile">View Profile</button>
                            Logged in: {{ session['user_name'] }}
                            &emsp;<button id="btn-logout">Logout</button>
                        </div>
                    {% else %}
                    <div>
                        <form method="POST">
                            <label for="uname">Username: </label>
                            <input type="text" id="uname" name="uname">
                            <label for="password">Password: </label>
                            <input type="text" id="password" name="password">
                            <input type="submit" formaction = "/login" value="Log In">
                        </form><br>
                    </div>                    
                    {% endif %}
                </div>

            </div>
        {% endblock %}

        {% for message in get_flashed_messages() %}
            <div class="flex_container">
                <p class='flash-message'> {{ message }}</p>
            </div>
        {% endfor %}

        {% block body %} {% endblock %}


        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>       
        <script src='/static/scripts/script.js'></script>
    </body>
</html>
